<h1 class="text-center">Addresses</h1>

<h3 class="text-center">Create new addresses from within <%=link_to "User", users_path %> profiles</h3>

<%= will_paginate @addresses%>
<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>User</th>
      <th>Address</th>
      <th>City</th>
      <th>State</th>
      <th>Orders</th>
      <th>Created</th>
      <th>show</th>
      <th>edit</th>
      <th>delete</th>
    </tr>
  </thead>
  <tbody>


  <% @addresses.each do |address| %>
    <tr>
      <td><%= address.id %></td>
      <td><%= link_to address.user.full_name, user_path(address.user) %></td>
      <td><%= address.street_address %></td>
      <td><%= address.city.name %></td>
      <td><%= address.state.name %></td>
      <td><%= address.orders.count %></td>
      <td><%= address.created_at %></td>
      <td><%= link_to "show", address_path(address, :user_id => address.user.id) %></td>
      <td><%= link_to "edit", edit_address_path(address, :user_id => address.user.id) %></td>
      <td><%= link_to "delete", address_path(address), method: :delete, data: { confirm: "Are you sure you want to delete?" }  %></td>

    </tr>

  <% end %>

  </tbody>
</table>
<%= will_paginate @addresses%>
