<main>
  <h1>Viking Store Analytics Dashboard</h1>
    <div class="box" id="Platform">
      <article >
        <h2>1. Overall Platform</h2>
        <h3>Last 7 Days</h3>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>
                Item
              </th>
              <th>
                Data
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                New Users
              </td>
              <td>
                <%= User.new_user_by_days(7) %>
              </td>
            </tr>
            <tr>
              <td>
                Orders
              </td>
              <td>
                <%= Order.order_by_days(7) %>
              </td>
            </tr>
            <tr>
              <td>
                New Products
              </td>
              <td>
                <%= Product.new_product_by_days(7) %>
              </td>
            </tr>
            <tr>
              <td>
                Revenue
              </td>
              <td>
                <%= format("$%.0f",OrderContent.revenue_by_days(7)) %>
              </td>
            </tr>
          </tbody>
        </table>

        <h3>Last 30 Days</h3>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>
                Item
              </th>
              <th>
                Data
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                New Users
              </td>
              <td>
                <%= User.new_user_by_days(30) %>
              </td>
            </tr>
            <tr>
              <td>
                New Orders
              </td>
              <td>
                <%= Order.order_by_days(30) %>
              </td>
            </tr>
            <tr>
              <td>
                New Products
              </td>
              <td>
                <%= Product.new_product_by_days(30) %>
              </td>
            </tr>
            <tr>
              <td>
                Revenue
              </td>
              <td>
                <%= format("$%.0f",OrderContent.revenue_by_days(30)) %>
              </td>
            </tr>
          </tbody>
        </table>

        <h3>Total</h3>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>
                Item
              </th>
              <th>
                Data
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                Users
              </td>
              <td>
                <%= User.new_user_by_days(0) %>
              </td>
            </tr>
            <tr>
              <td>
                Orders
              </td>
              <td>
                <%= Order.order_by_days(0) %>
              </td>
            </tr>
            <tr>
              <td>
                Products
              </td>
              <td>
                <%= Product.new_product_by_days(0) %>
              </td>
            </tr>
            <tr>
              <td>
                Revenue
              </td>
              <td>
                <%= format("$%.0f",OrderContent.revenue_by_days(0)) %>
              </td>
            </tr>
          </tbody>
        </table>
      </article>
    </div>

    <div class="box" id="Demographics">
      <article >
        <h2>2. User Demographics and Behavior</h2>
        <h3>Top 3 States Users Live In (billing)</h3>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>
                Item
              </th>
              <th>
                Data
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <%= User.top_three_user_states(0, 0) %>
              </td>
              <td>
                <%= User.top_three_user_states(0, 1) %>
              </td>
            </tr>
            <tr>
              <td>
                <%= User.top_three_user_states(1, 0) %>
              </td>
              <td>
                <%= User.top_three_user_states(1, 1) %>
              </td>
            </tr>
            <tr>
              <td>
                <%= User.top_three_user_states(2, 0) %>
              </td>
              <td>
                <%= User.top_three_user_states(2, 1) %>
              </td>
            </tr>
          </tbody>
        </table>

        <h3>Top 3 Cities Users Live In (billing)</h3>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>
                Item
              </th>
              <th>
                Data
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <%= User.top_three_user_cities(0, 0) %>
              </td>
              <td>
                <%= User.top_three_user_cities(0, 1) %>
              </td>
            </tr>
            <tr>
              <td>
                <%= User.top_three_user_cities(1, 0) %>
              </td>
              <td>
                <%= User.top_three_user_cities(1, 1) %>
              </td>
            </tr>
            <tr>
              <td>
                <%= User.top_three_user_cities(2, 0) %>
              </td>
              <td>
                <%= User.top_three_user_cities(2, 1) %>
              </td>
            </tr>
          </tbody>
        </table>

        <h3>Top Users With...</h3>
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>
                Critera
              </th>
              <th>
                Customer Name
              </th>
              <th>
                Quantity
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                Highest Single Order Value
              </td>
              <td>
                <%= Order.highest_single_order(0,0) + " "+ Order.highest_single_order(0,1) %>
              </td>
              <td>
                <%= format("$%.0f",Order.highest_single_order(0,2)) %>
              </td>
            </tr>
            <tr>
              <td>
                Highest Lifetime Value
              </td>
              <td>
                <%= Order.hightest_life_value(0,0) + " " +
                    Order.hightest_life_value(0, 1) %>
              </td>
              <td>
                <%= format("$%.0f",Order.hightest_life_value(0,2)) %>
              </td>
            </tr>
            <tr>
              <td>
                Highest Average Order Value
              </td>
              <td>
                <%= Order.highest_average_order(0,0) + " " +
                    Order.highest_average_order(0,1) %>
              </td>
              <td>
                <%= format("$%.0f",Order.highest_average_order(0,2)) %>
              </td>
            </tr>
            <tr>
              <td>
                Most Orders Placed
              </td>
              <td>
                <%= Order.most_orders_places(0,0) + " " +
                    Order.most_orders_places(0,1) %>
              </td>
              <td>
                <%= Order.most_orders_places(0,2) %>
              </td>
            </tr>
          </tbody>
        </table>
      </article>
    </div>

    <div class="box" id="Statistics">
    <article >
      <h2>3. Order Statistics</h2>
      <h3>Last 7 Days</h3>
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>
              Item
            </th>
            <th>
              Data
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              New Orders
            </td>
            <td>
              <%= Order.new_order_by_days(7) %>
            </td>
          </tr>
          <tr>
            <td>
              Total Revenue
            </td>
            <td>
              <%= format("$%.0f",OrderContent.revenue_by_days(7)) %>
            </td>
          </tr>
          <tr>
            <td>
              Average Order Value
            </td>
            <td>
              <%= format("$%.0f",OrderContent.average_order_value_by_days(7)) %>
            </td>
          </tr>
          <tr>
            <td>
              Largest Order Value
            </td>
            <td>
              <%= format("$%.0f",OrderContent.highest_order_value_by_days(7)) %>
            </td>
          </tr>
        </tbody>
      </table>

      <h3>Last 30 Days</h3>
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>
              Item
            </th>
            <th>
              Date
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              New Orders
            </td>
            <td>
              <%= Order.new_order_by_days(30) %>
            </td>
          </tr>
          <tr>
            <td>
              Total Revenue
            </td>
            <td>
              <%= format("$%.0f",OrderContent.revenue_by_days(30)) %>
            </td>
          </tr>
          <tr>
            <td>
              Average Order Value
            </td>
            <td>
              <%= format("$%.0f",OrderContent.average_order_value_by_days(30)) %>
            </td>
          </tr>
          <tr>
            <td>
              Largest Order Value
            </td>
            <td>
              <%= format("$%.0f",OrderContent.highest_order_value_by_days(30)) %>
            </td>
          </tr>
        </tbody>
      </table>

      <h3>Total</h3>
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>
              Item
            </th>
            <th>
              Date
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              New Orders
            </td>
            <td>
              <%= Order.new_order_by_days(0) %>
            </td>
          </tr>
          <tr>
            <td>
              Total Revenue
            </td>
            <td>
              <%= format("$%.0f",OrderContent.revenue_by_days(0)) %>
            </td>
          </tr>
          <tr>
            <td>
              Average Order Value
            </td>
            <td>
              <%= format("$%.0f",OrderContent.average_order_value_by_days(0)) %>
            </td>
          </tr>
          <tr>
            <td>
              Largest Order Value
            </td>
            <td>
              <%= format("$%.0f",OrderContent.highest_order_value_by_days(0)) %>
            </td>
          </tr>
        </tbody>
      </table>
    </article>
  </div>

    <div class="box" id="Time">
    <article >
      <h2>4. Time Series Data</h2>
      <h3>Orders by day</h3>
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>
              Date
            </th>
            <th>
              Quantity
            </th>
            <th>
              Value
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              Today
            </td>
            <td>
              3
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              Yesterday
            </td>
            <td>
              5
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              8/22
            </td>
            <td>
              3
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              8/21
            </td>
            <td>
              1
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              8/20
            </td>
            <td>
              2
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              8/19
            </td>
            <td>
              4
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              8/18
            </td>
            <td>
              3
            </td>
            <td>
              $200
            </td>
          </tr>
        </tbody>
      </table>

      <h3>Orders by Week</h3>
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>
              Date
            </th>
            <th>
              Quantity
            </th>
            <th>
              Value
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              8/22
            </td>
            <td>
              3
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              8/15
            </td>
            <td>
              5
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              8/8
            </td>
            <td>
              3
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              8/1
            </td>
            <td>
              1
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              7/25
            </td>
            <td>
              2
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              7/18
            </td>
            <td>
              4
            </td>
            <td>
              $500
            </td>
          </tr>
          <tr>
            <td>
              7/11
            </td>
            <td>
              3
            </td>
            <td>
              $200
            </td>
          </tr>
        </tbody>
      </table>
    </article>
  </div>
</main>
