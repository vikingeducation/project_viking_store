<div class="container">
	<div id="users-new">

		<% if flash[:alert] %>
			<div class="flash">
				<p><%= flash[:alert] %></p>
			</div>
		<% end %>

		<div class="row">
			<div class="col-xs-12">
				<div class="header text-center">
					<div class="header-text">
						<h1>Sign Up</h1>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<%= form_for @user do |user| %>
				<div class="col-xs-6">
					<% 2.times do |address_index| %>
						<%= user.fields_for :addresses, @user.addresses.build do |address| %>
							<div class="sub-form">
								<div class="sub-form-header">
									<h4>Address <%= address_index + 1 %> (optional)</h4>
								</div>

								<div class="sub-form-form">
									<%= address.label :street_address, "Street Address" %>
									<br>
									<%= address.text_field :street_address, :placeholder => "123 fake street" %>
									<br>

									<!-- Was thinking about using a fields_for here for the city but I don't think this should be done because I'm not 100% sure I'm gonna build a new city... I think I can just take the name, a City class method on it to return an id to use later on. -->

									<%= address.label :city, "City" %>
									<br>
									<%= address.text_field :city, :placeholder => "Somewhere" %>
									<br>

									<%= address.label :state_id, "State" %>
									<br>
									<%= address.collection_select(:state_id, State.all, :id, :name) %>
									<br>

									<%= address.label :zip_code, "Zip Code" %>
									<br>
									<%= address.text_field :zip_code %>
									<br>

									<%= user.radio_button :billing_id, address.object.id %>
									<%= user.label :billing_id, "Default Billing Address" %>
									<br>
									<%= user.radio_button :shipping_id, address.object.id %>
									<%= user.label :shipping_id, "Default Shipping Address" %>
								</div>

							</div>
						<% end %>
					<% end %>
				</div>

				<div class="col-xs-6">
					<div class="sub-form">
						<div class="sub-form-header">
							<h4>Account Information</h4>
						</div>
						<div class="sub-form-form">
							<%= user.label :email, "Email" %>
							<br>
						 	<%= user.email_field :email, :placeholder => "foo@bar.com" %>
						 	<br>
						 	<%= user.label :password, "Password" %>
						 	<br>
						 	<%= user.password_field :password %>
						 	<br>
						 	<%= user.label :first_name, "First Name" %>
						 	<br>
						 	<%= user.text_field :first_name, :placeholder => "Foo" %>
						 	<br>
						 	<%= user.label :last_name, "Last Name" %>
						 	<br>
						 	<%= user.text_field :last_name, :placeholder => "Bar" %>
						</div>
					</div>

					<div class="sub-form">
						<div class="sub-form-header">
							<h2>Complete Signup</h2>
						</div>
						<div class="sub-form-form">
							<%= user.submit :class => "btn btn-primary btn-lg center-block" %>
						</div>
					</div>
				</div>

			<% end %>

		</div>

	</div>
</div>
