<p class="brand">--- Project Viking Store ---</p>
<h1>Dashboard</h1>
<div class="row">
  <div class="<%= column_classes %>">
    <article>
      <h2>1. Overall Platform</h2>
      <h3>Last 7 Days</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>New Users</td>
            <td><%= @dashboard.last_n_days_count(7, User) %></td>
          </tr>
          <tr>
            <td>Orders</td>
            <td><%= @dashboard.last_n_days_count(7, Order) %></td>
          </tr>
          <tr>
            <td>New Products</td>
            <td><%= @dashboard.last_n_days_count(7, Product) %></td>
          </tr>
          <tr>
            <td>Revenue</td>
            <td>$<%= @dashboard.total_revenue_last_n_days(7) %></td>
          </tr>
        </tbody>
      </table>

      <h3>Last 30 Days</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>New Users</td>
            <td><%= @dashboard.last_n_days_count(30, User) %></td>
          </tr>
          <tr>
            <td>Orders</td>
            <td><%= @dashboard.last_n_days_count(30, Order) %></td>
          </tr>
          <tr>
            <td>New Products</td>
            <td><%= @dashboard.last_n_days_count(30, Product) %></td>
          </tr>
          <tr>
            <td>Revenue</td>
            <td>$<%= @dashboard.total_revenue_last_n_days(30) %></td>
          </tr>
        </tbody>
      </table>

      <h3>Total</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Users</td>
            <td><%= @dashboard.total_count(User) %></td>
          </tr>
          <tr>
            <td>Orders</td>
            <td><%= @dashboard.total_count(Order) %></td>
          </tr>
          <tr>
            <td>Products</td>
            <td><%= @dashboard.total_count(Product) %></td>
          </tr>
          <tr>
            <td>Revenue</td>
            <td>$<%= @dashboard.total_revenue %></td>
          </tr>
        </tbody>
      </table>
    </article>
  </div> <!-- col-6 -->

  <div class="<%= column_classes %>">
    <article>
      <h2>2. User Demographics & Behavior</h2>
      <h3>Top 3 States Users Live In</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">State</th>
            <th scope="col">User Count</th>
          </tr>
        </thead>
        <tbody>
          <% @dashboard.top_states.each do |state| %>
          <tr>
            <td><%= state.name %></td>
            <td><%= state.user_count %></td>
          </tr>
          <% end %>
        </tbody>
      </table>

      <h3>Top 3 Cities Users Live In</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">City</th>
            <th scope="col">User Count</th>
          </tr>
        </thead>
        <tbody>
          <% @dashboard.top_cities.each do |city| %>
          <tr>
            <td><%= city.name %></td>
            <td><%= city.user_count %></td>
          </tr>
          <% end %>
        </tbody>
      </table>

      <h3>Top User with...</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">User</th>
            <th scope="col">Qty</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Highest Single Order Value</td>
            <td>TBD: user name</td>
            <td>$<%= @dashboard.highest_value_order %></td>
          </tr>
          <tr>
            <td>Highest Lifetime Value</td>
            <td>TBD: user name</td>
            <td>TBD: $</td>
          </tr>
          <tr>
            <td>Highest Avg Order Value</td>
            <td>TBD: user name</td>
            <td>TBD: $</td>
          </tr>
          <tr>
            <td>Most Orders Placed</td>
            <td>TBD: user name</td>
            <td>TBD: $</td>
          </tr>
        </tbody>
      </table>
    </article>
  </div> <!-- col-6 -->

  <div class="<%= column_classes %>">
    <article>
      <h2>3. Order Statistics</h2>
      <h3>Last 7 Days</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Number of Orders</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Total Revenue</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Average Order Value</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Largest Order Value</td>
            <td>TBD</td>
          </tr>
        </tbody>
      </table>

      <h3>Last 30 Days</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Number of Orders</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Total Revenue</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Average Order Value</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Largest Order Value</td>
            <td>TBD</td>
          </tr>
        </tbody>
      </table>

      <h3>Total</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Number of Orders</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Total Revenue</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Average Order Value</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Largest Order Value</td>
            <td>TBD</td>
          </tr>
        </tbody>
      </table>
    </article>
  </div> <!-- col-6 -->

  <div class="<%= column_classes %>">
    <article>
      <h2>4. Time Series Data</h2>
      <h3>Orders by Day</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>New Users</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Orders</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>New Products</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Revenue</td>
            <td>TBD</td>
          </tr>
        </tbody>
      </table>

      <h3>Orders by Week</h3>
      <table class="<%= table_classes %>">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Item</th>
            <th scope="col">Data</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>New Users</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Orders</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>New Products</td>
            <td>TBD</td>
          </tr>
          <tr>
            <td>Revenue</td>
            <td>TBD</td>
          </tr>
        </tbody>
      </table>
    </article>
  </div> <!-- col-6 -->

</div> <!-- row -->


